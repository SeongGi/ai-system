ReadME


AI SRE Auto-Remediator
Google Gemini 3 Flash 기반 실시간 시스템 로그 분석 및 자동 조치 에이전트

이 프로젝트는 Linux 시스템 로그(syslog)를 실시간으로 감시하고, 장애 발생 시 AI가 해결 명령어를 제안하며 슬랙(Slack)을 통해 관리자의 승인을 받아 즉각 조치하는 지능형 SRE 도구입니다.

- 주요 특징
실시간 감시: tail -F 방식으로 시스템 로그를 0.2초 이내에 탐지합니다.

AI 기반 분석: gemini-3-flash-preview 모델을 사용하여 로그의 원인을 파악하고 최적의 복구 명령어를 생성합니다.

인터랙티브 슬랙 알림: 슬랙의 버튼 기능을 통해 관리자가 모바일/PC에서 즉시 명령어를 실행하거나 거절할 수 있습니다.

프롬프트 영구 저장: /prompt_change 명령어로 AI의 페르소나를 실시간 변경하고, 이를 prompt.txt에 기록하여 재시작 후에도 유지합니다.

보안 가드레일: rm -rf, mkfs 등 파괴적인 명령어를 사전에 필터링하는 안전 로직이 포함되어 있습니다.

-  시스템 아키텍처
현재 시스템은 다음과 같은 흐름으로 동작합니다:

Detection: Log Monitor가 에러 키워드를 포착합니다.

Analysis: AI Agent가 Gemini API에 분석을 요청합니다.

Notification: 분석 결과와 조치 버튼이 Slack으로 전송됩니다.

Action: 관리자가 승인하면 OS Shell에서 명령어가 실행됩니다.


시작하기
1. 환경 준비

# Python 가상환경 구축 및 필수 패키지 설치
python3 -m venv venv
source venv/bin/activate
pip install flask google-generativeai requests

2. 서비스 실행
main.py 파일에 API Key와 Webhook URL을 설정한 후 서비스를 실행합니다.

sudo systemctl enable --now ai-remediator.service

주요 파일 설명
main.py: 에이전트의 핵심 로직 (로그 감시, Flask 서버, AI 통신).

prompt.txt: AI에게 부여된 SRE 전문가 지침(프롬프트) 저장소.

ai-remediator.service: 백그라운드 상시 실행을 위한 Systemd 설정 파일.

프로젝트 구조

├── main.py              # 메인 실행 파일
├── prompt.txt           # 프롬프트 영구 저장 파일
├── requirements.txt     # 의존성 패키지 목록
└── README.md            # 설명서